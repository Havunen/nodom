!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.nodom=t.nodom||{})}(this,function(t){"use strict";function e(t){this.reset(t.className)}function n(){}function r(t){this.nodeType=3,this.textContent=t}function i(t){return null==t||0===t.length?null:t.replace(p,"$1").match(f).map(function(t,e){return{tagName:(v(t.match(g))||"").toLowerCase(),id:b(N(t.match(m))),classNames:w(t.match(y)),relation:e>0?t[0]:null}}).reverse()}function o(t,e){return null!=t&&((!e.tagName||t.tagName===e.tagName)&&((!e.id||t.id===e.id)&&!(e.classNames&&!e.classNames.every(function(e){return t.classList.contains(e)}))))}function s(t,e){for(var n=t,r=1;r<e.length;r++){var i=function(t){switch(e[t-1].relation){case" ":do{n=n.parentNode}while(null!=n&&!o(n,e[t]));break;case">":if(!o(n.parentNode,e[t]))return{v:!1};break;case"+":if(!o(n.parentNode.childNodes.find(function(t){return t.nextSibling===n}),e[t]))return{v:!1};break;case"~":if(!n.parentNode.childNodes.slice(0,n.parentNode.childNodes.indexOf(n)).some(function(n){return o(n,e[t])}))return{v:!1}}}(r);if(i)return i.v}return null!=n}function c(t,e,n){var r=i(t);if(null==r)return[];for(var c=e.getElementsByTagName(r[0].tagName||"*"),a=[],l=0;l<c.length&&!(o(c[l],r[0])&&s(c[l],r)&&(a.push(c[l]),null!=n&&a.length>=n));l++);return a}function a(t,e){return c(t,e,1)[0]||null}function l(t){var e=this;this.childNodes=[],this.style={},this.nodeType=1;for(var n in t)e[n]=t[n];this.tagName||(this.tagName="div"),this.tagName=this.tagName.toLowerCase(),Object.defineProperty(this,"isVoidEl",{value:L[this.tagName]})}function u(t){return t.render()}function h(){this.documentElement=this.createElement("html"),this.head=this.documentElement.appendChild(this.createElement("head")),this.body=this.documentElement.appendChild(this.createElement("body")),this.nodeType=9}function d(t,e){return(t.el||t).render(e)}e.prototype=[],e.prototype.reset=function(t){var e=this,n=(t||"").split(" ");this.length=n.length;for(var r=0;r<n.length;r++)e[r]=n[r]},e.prototype.add=function(t){this.contains(t)||this.push(t)},e.prototype.contains=function(t){for(var e=this,n=0;n<this.length;n++)if(e[n]===t)return!0;return!1},e.prototype.remove=function(t){for(var e=this,n=this.classNames,r=0;r<this.length;r++)n[r]===t&&e.splice(r,1)},e.prototype.toString=function(){return this.join(" ").trim()},n.prototype.cloneNode=function(t){return new(Object.getPrototypeOf(this).constructor)(this)},r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.render=function(){return this.textContent};var p=new RegExp("\\s*([ >+~])\\s*","g"),f=new RegExp("(^|[ >+~])([^ >+~]+)","ig"),m=new RegExp("#[^. >+~]+","g"),g=new RegExp("^(?:[ >+~])?([^#. >+~\\[\\]]+)"),y=new RegExp("\\.[^. >+~]+","g"),N=function(t){return null!=t?t[0]:null},v=function(t){return Array.isArray(t)&&t.length>1?t[1]:null},E=function(t){return t.substr(1)},b=function(t){return null!=t?E(t):null},w=function(t){return function(e){return Array.isArray(e)?e.map(t):null}}(E),L="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").reduce(function(t,e){return t[e]=!0,t},{}),C=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l);l.prototype=Object.create(n.prototype),l.prototype.constructor=l;var T=function(){};"blur click focus".split(" ").forEach(function(t){return l.prototype[t]=T});var x="tagName view nodeType isVoidEl parent parentNode childNodes isMounted".split(" ").reduce(function(t,e){return t[e]=!0,t},{});l.prototype.render=function(t){var e=this,n=this.isVoidEl,r=[],i=!1,o="";for(var s in e)if("isMounted"!==s&&e.hasOwnProperty(s))if(x[s]||!n)e.childNodes.length&&(i=!0);else if("_innerHTML"===s)o=e._innerHTML;else if("style"===s){var c="";for(var a in e.style)c+=a+":"+e.style[a]+";";c&&c.length&&r.push('style="'+c+'"')}else if(!x[s]){if("function"==typeof e[s])continue;r.push(s+'="'+e[s]+'"')}if(this.className&&r.push('class="'+this.className+'"'),t)return!n&&i?this.childNodes.map(u).join(""):!n&&o?o:"";if(!n&&i){var l=this.tagName;return"<"+[l].concat(r).join(" ")+">"+this.childNodes.map(u).join("")+"</"+l+">"}if(!n&&o){var h=this.tagName;return"<"+[this.tagName].concat(r).join(" ")+">"+o+"</"+h+">"}var d=this.tagName,p=[d].concat(r).join(" ");return n?"<"+p+">":"<"+p+"></"+this.tagName+">"},l.prototype.addEventListener=function(){},l.prototype.removeEventListener=function(){},l.prototype.setAttribute=function(t,e){this[t]=e},l.prototype.getAttribute=function(t){return this[t]},l.prototype.appendChild=function(t){var e=this;if(!this.isVoidEl){t.parentNode=this;for(var n=0;n<this.childNodes.length;n++)e.childNodes[n]===t&&e.childNodes.splice(n,1);return this.childNodes.push(t),t}},l.prototype.insertBefore=function(t,e){var n=this;if(!this.isVoidEl){t.parentNode=this;for(var r=0;r<this.childNodes.length;r++)n.childNodes[r]===e?n.childNodes.splice(r++,0,t):n.childNodes[r]===t&&n.childNodes.splice(r,1)}},l.prototype.replaceChild=function(t,e){var n=this;if(!this.isVoidEl){t.parentNode=this;for(var r=0;r<this.childNodes.length;r++)n.childNodes[r]===e&&(n.childNodes[r]=t)}},l.prototype.removeChild=function(t){var e=this;if(!this.isVoidEl){t.parentNode=null;for(var n=0;n<this.childNodes.length;n++)e.childNodes[n]===t&&e.childNodes.splice(n,1)}},l.prototype.getElementsByTagName=function(t){var e=t.toLowerCase();return this.isVoidEl||0===this.childNodes.length?[]:this.childNodes.reduce(function(t,n){return"*"===e||n.tagName===e?t.concat(n,n.getElementsByTagName(e)):t.concat(n.getElementsByTagName(e))},[])},l.prototype.getElementsByClassName=function(t){return Array.isArray(t)?0===t.length?[]:this.childNodes.reduce(function(e,n){return t.every(function(t){return n.classList.contains(t)})?e.concat(n,n.getElementsByClassName(t)):e.concat(n.getElementsByClassName(t))},[]):this.getElementsByClassName(String(t).split(" ").map(function(t){return t.trim()}).filter(function(t){return t.length>0}))},l.prototype.querySelector=function(t){return a(t,this)},l.prototype.querySelectorAll=function(t){return c(t,this)},Object.defineProperties(l.prototype,{_classList:{value:null,enumerable:!1,configurable:!1,writable:!0},classList:{get:function(){return this._classList||(this._classList=new e(this)),this._classList}},className:{set:function(t){this.classList.reset(t)},get:function(){return null==this._classList?"":this._classList.toString()}},innerHTML:{get:function(){return this._innerHTML||this.render(!0)},set:function(t){this._innerHTML=t}},outerHTML:{get:function(){return this.render()}},firstChild:{get:function(){return this.childNodes[0]}},textContent:{get:function(){return this.childNodes.filter(function(t){return t instanceof r}).map(function(t){return t.textContent}).join("")},set:function(t){this.childNodes=[new r(t)]}},nextSibling:{get:function(){for(var t=this,e=this.parentNode.childNodes,n=0;n<e.length;n++)if(e[n]===t)return e[n+1]}}}),h.prototype.createElement=function(t){return new l({tagName:t})},h.prototype.createElementNS=function(t,e){return"http://www.w3.org/2000/svg"===e?new C({tagName:e}):new l({tagName:e})},h.prototype.createTextNode=function(t){return new r(t)},h.prototype.getElementsByTagName=function(t){var e=t.toLowerCase();return"html"===e?[this.documentElement]:"*"===e?[this.documentElement].concat(this.documentElement.getElementsByTagName(e)):this.documentElement.getElementsByTagName(e)},h.prototype.getElementsByClassName=function(t){var e=this;if(!Array.isArray(t))return this.getElementsByClassName(String(t).split(" ").map(function(t){return t.trim()}).filter(function(t){return t.length>0}));if(0===t.length)return[];var n=t.every(function(t){return e.documentElement.classList.contains(t)});return this.documentElement.childNodes.reduce(function(e,n){return t.every(function(t){return n.classList.contains(t)})?e.concat(n,n.getElementsByClassName(t)):e.concat(n.getElementsByClassName(t))},n?[this.documentElement]:[])},h.prototype.getElementById=function(t){function e(t,n){for(var r=[],i=0;i<n.length;i++){if(n[i].id===t)return n[i];r=r.concat(n[i].childNodes)}return r.length>0?e(t,r):null}return this.documentElement.id===t?this.documentElement:e(t,this.documentElement.childNodes)},h.prototype.querySelector=function(t){return a(t,this)},h.prototype.querySelectorAll=function(t){return c(t,this)},t.Document=h,t.HTMLElement=l,t.SVGElement=C,t.Node=n,t.render=d,t.TextNode=r,Object.defineProperty(t,"__esModule",{value:!0})});